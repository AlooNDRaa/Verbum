"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UseInterceptor = void 0;
const add_interceptor_to_action_metadata_1 = require("../util/add-interceptor-to-action-metadata");
const get_metadata_1 = require("../util/get-metadata");
function UseInterceptor(...interceptors) {
    return function (object, methodName) {
        for (const interceptor of interceptors) {
            if (object instanceof Function) {
                // Class interceptor
                const existingMetadata = (0, get_metadata_1.getMetadata)(object);
                for (const key of Object.keys((existingMetadata === null || existingMetadata === void 0 ? void 0 : existingMetadata.actions) || {})) {
                    (0, add_interceptor_to_action_metadata_1.addInterceptorToActionMetadata)(object, key, interceptor);
                }
            }
            else {
                // Method interceptor
                (0, add_interceptor_to_action_metadata_1.addInterceptorToActionMetadata)(object.constructor, methodName, interceptor);
            }
        }
    };
}
exports.UseInterceptor = UseInterceptor;
//# sourceMappingURL=UseInterceptor.js.map